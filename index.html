<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PinMeUP! - Przypnij Siebie! </title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #4834d4; 
            --primary-dark: #301b9e;
            --salmon: #ff7979; 
            --accent: #f9ca24; 
            --bg-color: #f7f1ff;
            --glass: rgba(255, 255, 255, 0.98);
            --shadow: 0 10px 40px -10px rgba(72, 52, 212, 0.15);
            --radius: 16px;
            --banner-height: 40px;
            --header-height: 70px;
        }

        html { scroll-behavior: smooth; }

        body { 
            font-family: 'Montserrat', sans-serif; 
            background-color: var(--bg-color); 
            background-image: radial-gradient(#e0d4fc 1px, transparent 1px);
            background-size: 20px 20px;
            color: #2d3436; 
            margin: 0; 
            padding-bottom: 90px;
            padding-top: 130px; 
            -webkit-tap-highlight-color: transparent;
        }

        /* --- TOAST NOTIFICATION --- */
        #toast {
            visibility: hidden; min-width: 250px; background-color: #333; color: #fff; text-align: center;
            border-radius: 50px; padding: 12px 20px; position: fixed; z-index: 9999; left: 50%; bottom: 80px;
            transform: translateX(-50%); font-size: 0.9rem; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            opacity: 0; transition: opacity 0.3s, bottom 0.3s;
        }
        #toast.show { visibility: visible; opacity: 1; bottom: 90px; }

        /* --- EVENT BANNER --- */
        .event-banner {
            position: fixed; top: 0; left: 0; width: 100%; 
            min-height: var(--banner-height); 
            background: linear-gradient(90deg, #ff0055, #ff7979, #f9ca24); 
            background-size: 200% 200%; color: white;
            display: flex; justify-content: center; align-items: center; 
            font-size: 0.85rem; font-weight: 800; text-transform: uppercase; 
            letter-spacing: 0.5px; z-index: 1002; 
            animation: gradientMove 5s ease infinite;
            text-align: center; padding: 5px 10px; box-sizing: border-box; line-height: 1.3;
        }
        @keyframes gradientMove { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .event-highlight { background: rgba(0,0,0,0.2); padding: 1px 6px; border-radius: 4px; margin: 0 3px; display: inline-block; white-space: nowrap; }

        /* --- HEADER --- */
        header { 
            background: var(--glass); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            position: fixed; top: 0; margin-top: var(--banner-height); left: 0; width: 100%; 
            height: var(--header-height); z-index: 1001; border-bottom: 1px solid rgba(255,255,255,0.3); 
            box-shadow: 0 4px 20px rgba(0,0,0,0.03); display: flex; align-items: center; transition: all 0.3s;
        }
        
        @media (max-width: 900px) {
            .event-banner { position: relative; } 
            header { position: sticky; top: 0; margin-top: 0; height: auto; padding: 10px 0; flex-wrap: wrap; }
            body { padding-top: 0; } 
        }

        .nav-inner { 
            max-width: 1200px; width: 100%; margin: 0 auto; display: flex; 
            justify-content: space-between; align-items: center; padding: 0 20px; 
        }

        .logo { font-weight: 900; font-size: 1.4rem; color: var(--primary); display: flex; align-items: center; gap: 10px; cursor: pointer; text-decoration: none; }
        .logo img { height: 40px; border-radius: 50%; border: 2px solid var(--primary); }

        /* --- MENU --- */
        .main-menu { display: flex; gap: 8px; }
        .menu-link { 
            text-decoration: none; color: #555; font-weight: 700; font-size: 0.75rem; 
            padding: 8px 12px; border-radius: 20px; transition: 0.2s; text-transform: uppercase; cursor: pointer;
        }
        .menu-link:hover { background: var(--primary); color: white; transform: translateY(-2px); }
        .menu-link.highlight { color: var(--salmon); border: 1px solid var(--salmon); }
        .menu-link.gold { color: #b7950b; border: 1px solid #f1c40f; }

        .cart-btn-desktop { 
            background: var(--primary); color: white; padding: 8px 20px; border-radius: 50px; 
            font-weight: 700; text-decoration: none; display: flex; align-items: center; gap: 8px; 
            transition: 0.3s; font-size: 0.9rem; flex-shrink: 0;
        }

        /* MOBILE MENU BUTTON */
        .mobile-menu-toggle { display: none; background: none; border: none; font-size: 1.2rem; color: var(--primary); font-weight: 900; cursor: pointer; }
        
        @media (max-width: 900px) {
            .nav-inner { flex-wrap: wrap; }
            .logo { flex: 1; justify-content: flex-start; }
            .cart-btn-desktop { display: none; }
            .mobile-menu-toggle { display: block; } 
            .main-menu { 
                display: none; flex-direction: column; width: 100%; background: white; margin-top: 10px; border-top: 1px solid #eee; padding: 10px 0;
                animation: fadeInMenu 0.3s ease;
            }
            .main-menu.open { display: flex; }
            .menu-link { display: block; width: 100%; text-align: left; padding: 12px 10px; border-bottom: 1px solid #f9f9f9; border-radius: 0; }
            .menu-link:active { background: #f0f0f0; }
        }
        @keyframes fadeInMenu { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }

        /* --- UK≈ÅAD G≈Å√ìWNY --- */
        .main-wrapper { 
            max-width: 1200px; margin: 20px auto; padding: 0 20px; 
            display: grid; 
            grid-template-columns: 2fr 1.1fr; 
            grid-template-areas: "products cart" "gallery cart";
            gap: 40px; align-items: start; 
        }

        .content-col { grid-area: products; }
        .sidebar { grid-area: cart; }
        .extra-content-box { grid-area: gallery; }

        @media (max-width: 900px) {
            .main-wrapper { 
                grid-template-columns: 1fr; 
                grid-template-areas: "products" "cart" "gallery";
                padding: 0 15px; gap: 20px; margin-top: 10px;
            }
            .grid { grid-template-columns: repeat(2, 1fr) !important; gap: 12px !important; }
            .event-banner { font-size: 0.75rem; padding: 8px; }
        }

        /* --- AKORDEONY --- */
        .accordion-item { 
            background: white; border-radius: var(--radius); margin-bottom: 15px; 
            box-shadow: var(--shadow); overflow: hidden; scroll-margin-top: 160px; 
            border-left: 5px solid #ccc; transition: transform 0.2s;
        }
        .accordion-item.rainbow-border {
            border-left: none !important;
            background-image: linear-gradient(to bottom, #ffadad, #ffd6a5, #fdffb6, #caffbf, #9bf6ff, #a0c4ff, #bdb2ff, #ffc6ff);
            background-size: 6px 100%; background-repeat: no-repeat;
        }
        .accordion-item.rainbow-border .accordion-header, .accordion-item.rainbow-border .accordion-content { margin-left: 6px; background: white; }

        .accordion-header { padding: 18px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-weight: 800; color: var(--primary); background: white; }
        .accordion-content { display: none; padding: 20px; border-top: 1px solid #f0f0f0; background: white; }
        .accordion-item.active .accordion-content { display: block; animation: slideDown 0.3s ease; }
        @keyframes slideDown { from { opacity:0; transform:translateY(-10px); } to { opacity:1; transform:translateY(0); } }

        /* --- KARTY --- */
        .card { 
            border: 1px solid #eee; border-radius: 12px; padding: 15px; 
            text-align: center; background: white; transition: 0.3s; height: 100%; 
            display: flex; flex-direction: column; justify-content: space-between; 
            box-sizing: border-box; overflow: hidden; 
        }
        .card:hover { 
            border-color: var(--salmon); box-shadow: 0 15px 30px rgba(0,0,0,0.1); 
            transform: translateY(-5px); 
        }
        
        /* ZOOM NA OBRAZKU */
        .card img { 
            width: 90px; height: 90px; border-radius: 50%; object-fit: cover; 
            margin-bottom: 10px; border: 3px solid #f5f5f5; align-self: center; 
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            cursor: zoom-in;
        }
        .card:hover img { transform: scale(1.15) rotate(3deg); }

        .card h3 { font-size: 0.85rem; margin: 5px 0; min-height: 40px; display: flex; align-items: center; justify-content: center; line-height: 1.2; word-break: break-word; }
        .price { font-weight: 800; color: var(--primary); display: block; margin-bottom: 5px; }
        .qty-input { width: 40px; text-align: center; border: 1px solid #ddd; border-radius: 5px; padding: 5px; font-size: 16px; }
        .btn-add { background: var(--primary); color: white; border: none; padding: 10px; width: 100%; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top:5px; transition:0.2s; font-size: 0.85rem; }
        
        @media (max-width: 900px) {
            .card { padding: 10px; }
            .card img { width: 70px; height: 70px; }
            .card h3 { font-size: 0.75rem; }
            .btn-add { padding: 8px 0; font-size: 0.75rem; }
        }

        .card.prestige { background: #222; color: white; border: 1px solid var(--accent); }
        .card.prestige h3 { color: var(--accent); }
        .card.prestige .price { color: #fff; }
        .card.prestige .btn-add { background: var(--accent); color: black; }

        /* Karta Gold dla Dziekana */
        .card.gold-edition {
            background: linear-gradient(135deg, #fffbf0, #fff);
            border: 2px solid #f1c40f;
            box-shadow: 0 0 15px rgba(241, 196, 15, 0.3);
        }
        .card.gold-edition img { border-color: #f1c40f; }
        .card.gold-edition h3 { color: #b7950b; font-weight: 900; text-transform: uppercase; letter-spacing: 1px; }
        .card.gold-edition .btn-add { background: #f1c40f; color: #fff; text-shadow: 0 1px 1px rgba(0,0,0,0.2); }

        /* --- LIGHTBOX --- */
        #lightbox {
            display: none; position: fixed; z-index: 10000; left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.85); backdrop-filter: blur(5px); justify-content: center; align-items: center;
            opacity: 0; transition: opacity 0.3s ease;
        }
        #lightbox.visible { display: flex; opacity: 1; }
        #lightbox img { 
            max-width: 90%; max-height: 80%; border-radius: 10px; 
            box-shadow: 0 0 20px rgba(255,255,255,0.2); transform: scale(0.8); transition: transform 0.3s;
        }
        #lightbox.visible img { transform: scale(1); }
        .close-lightbox {
            position: absolute; top: 20px; right: 20px; color: white; font-size: 2rem; 
            cursor: pointer; background: rgba(0,0,0,0.5); width: 40px; height: 40px; 
            border-radius: 50%; text-align: center; line-height: 40px;
        }

        /* KOSZYK DESKTOP */
        .cart-wrapper { 
            background: white; padding: 25px; border-radius: var(--radius); 
            position: sticky; top: 130px; box-shadow: 0 5px 25px rgba(0,0,0,0.05); border: 1px solid #eee;
        }
        .cart-items { margin-bottom: 15px; max-height: 300px; overflow-y: auto; }
        .cart-item { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #f5f5f5; padding: 10px 0; font-size: 0.85rem; }
        .btn-checkout { background: linear-gradient(135deg, var(--primary), #6c5ce7); color: white; width: 100%; padding: 15px; font-weight: 900; border: none; border-radius: 10px; cursor: pointer; margin-top: 10px; font-size: 1rem; }
        input.field { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 16px; }

        /* MOBILE STICKY CART */
        #mobile-sticky-cart {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: white; border-top: 1px solid #eee;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
            padding: 12px 20px; display: none; 
            justify-content: space-between; align-items: center; z-index: 2000;
            box-sizing: border-box;
        }
        @media (max-width: 900px) { #mobile-sticky-cart.visible { display: flex; } }

        .m-cart-info { font-size: 0.9rem; color: #333; }
        .m-cart-total { font-weight: 900; color: var(--primary); font-size: 1.1rem; }
        .m-cart-btn { 
            background: var(--primary); color: white; padding: 10px 20px; 
            border-radius: 30px; font-weight: 700; text-decoration: none; font-size: 0.9rem;
            box-shadow: 0 4px 10px rgba(72, 52, 212, 0.4);
        }

        /* INNE */
        .extra-content-box { background: white; padding: 25px; border-radius: var(--radius); box-shadow: var(--shadow); border: 1px solid #eee; }
        .gallery-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 15px; }
        .gallery-item img { width: 100%; border-radius: 8px; aspect-ratio: 1/1; object-fit: cover; cursor: zoom-in; transition: 0.3s; }
        .gallery-item img:hover { transform: scale(1.05); }
        .payment-options { display: flex; gap: 10px; margin: 15px 0; }
        .pay-option { flex: 1; border: 1px solid #ddd; padding: 10px; text-align: center; border-radius: 8px; cursor: pointer; font-size: 0.85rem; }
        .pay-option.active { border-color: var(--primary); background: #f0edff; color: var(--primary); font-weight: bold; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 15px; }
    </style>
</head>
<body>

<div id="lightbox" onclick="closeLightbox()">
    <div class="close-lightbox">&times;</div>
    <img id="lightbox-img" src="" onclick="event.stopPropagation()">
</div>

<div id="toast"><i class="fa-solid fa-check-circle"></i> Dodano!</div>

<div id="mobile-sticky-cart">
    <div class="m-cart-info">
        <span>Razem:</span> <span class="m-cart-total" id="mobileTotal">0.00 PLN</span>
    </div>
    <a href="#koszyk" class="m-cart-btn" onclick="scrollToCartMobile()">
        ZAMAWIAM <i class="fa-solid fa-arrow-right"></i>
    </a>
</div>

<div class="event-banner">
    <div>
        üö® STOISKO: 15 & 18 GRUDNIA! FUW, HALL G≈Å√ìWNY
        <span class="event-highlight">üé° Ko≈Ço Fortuny - Wylosuj sobie zni≈ºkƒô! </span> 
        <span class="event-highlight">üì¶ Odbi√≥r zam√≥wie≈Ñ </span> 
        <br style="display:none;" class="mobile-break">
        <span class="event-highlight">üì∏ Fotobudka ≈õwiƒÖteczna do zdjƒôƒá </span>
        <span style="color:yellow; text-shadow:0 1px 2px black;">üéì 18.12 - ZDJƒòCIE Z DZIEKANEM TURZY≈ÉSKIM!!!</span>
    </div>
</div>

<header>
    <div class="nav-inner">
        <button class="mobile-menu-toggle" onclick="toggleMenu()">
            MENU <i class="fa-solid fa-bars"></i>
        </button>

        <a href="#" class="logo" onclick="location.reload()">
            <img src="pinmeup_logo.png" alt="Logo"> 
            <span>PIN ME UP!</span>
        </a>

        <nav class="main-menu" id="navMenu">
            <a href="#acc-custom" class="menu-link">Kreator</a>
            <a href="#acc-logo" class="menu-link">Loga</a>
            <a href="#acc-fuw" class="menu-link" style="color: #f37034;">FUW Vibe</a>
            <a href="#acc-fame" class="menu-link gold">BADGE OF FAME üèÜ</a>
            <a href="#acc-memy" class="menu-link">Memy</a>
            <a href="#acc-xmas" class="menu-link highlight">XMAS üéÑ</a>
            <a href="#acc-pride" class="menu-link">#PRIDE üè≥Ô∏è‚Äçüåà</a>
            <a href="#acc-blind" class="menu-link">Blindbox</a>
            <a href="#acc-border" class="menu-link">Borderkicia</a>
            <a href="#acc-prestige" class="menu-link">Presti≈º</a>
            <a href="#acc-inne" class="menu-link">Inne</a>
        </nav>

        <a href="#koszyk" class="cart-btn-desktop">
            <i class="fa-solid fa-cart-shopping"></i> <span id="cartCount">0</span>
        </a>
    </div>
</header>

<div class="main-wrapper">

    <div class="content-col">
        
        <div id="acc-custom" class="accordion-item active" style="border-left-color: var(--salmon);">
            <div class="accordion-header" onclick="toggleAcc(this)">
                <span>üé® KREATOR (W≈ÅASNY WZ√ìR)</span>
                <i class="fa-solid fa-chevron-down"></i>
            </div>
            <div class="accordion-content">
                <div style="text-align:center;">
                    <p style="font-size:0.9rem; margin-bottom: 15px;">
                        Przyjaci√≥≈Çka? Brat? Kotek? A mo≈ºe... Dziekan Turzy≈Ñski...? To nie problem! Wgraj swoje ulubione zdjƒôcie - serio, cokolwiek chcesz! - a my zrobimy z niego TwojƒÖ spersonalizowanƒÖ przypinkƒô! ‚ù§Ô∏è
                    </p>
                    
                    <div style="border: 2px dashed #ff7675; padding: 20px; border-radius: 10px; margin-bottom: 20px; background:#fff5f5;">
                        <i class="fa-solid fa-cloud-arrow-up" style="font-size:2rem; color:#ff7675; margin-bottom: 10px;"></i><br>
                        <input type="file" id="customFile" accept="image/*" style="margin-top:10px; max-width:100%;">
                    </div>
        
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 5px;">
                        <span class="price" style="font-size: 1.2rem; font-weight: bold; color: #2d3436;">7.00 PLN</span>
                        
                        <div style="display: flex; gap: 10px; align-items: center; justify-content: center;">
                            <div class="qty-box">
                                <input type="number" id="customQty" class="qty-input" value="1" min="1">
                            </div>
                            <button class="btn-add" style="width:auto; padding:8px 30px; background-color: var(--salmon);" onclick="addCustomFile()">DODAJ</button>
                        </div>
                    </div>
        
                </div>
            </div>
        </div>


        <div id="acc-logo" class="accordion-item" style="border-left-color: var(--primary);">
            <div class="accordion-header" onclick="toggleAcc(this)">
                <span>üéì LOGA UCZELNI </span>
                <i class="fa-solid fa-chevron-down"></i>
            </div>
            <div class="accordion-content">
                <div class="grid">
                    <script>
                        const logos = [
                            {name: "FUW (EN) Pe≈Çne", file: "[EN] fuw __ pe≈Çne.png"},
                            {name: "MIMUW (EN)", file: "[EN] mimuw __ pe≈Çne.png"},
                            {name: "WCHEM (EN)", file: "[EN] wchem.png"},
                            {name: "MIMUW (≈Åacina)", file: "[≈Çac] mimuw __ pe≈Çne vel 2.png"},
                            {name: "FUW (PL) Pe≈Çne", file: "[PL] fuw __ pe≈Çne.png"},
                            {name: "MIMUW (PL)", file: "[PL] mimuw __ pe≈Çne.png"},
                            {name: "MIMUW Sygnet", file: "[PL] mimuw __ sygnet.png"},
                            {name: "WCHEM (PL)", file: "[PL] wchem.png"},
                            {name: "FUW Skr√≥t 1", file: "fuw __ skr√≥t (3).png"},
                            {name: "FUW Skr√≥t 2", file: "fuw __ skr√≥t.png"},
                            {name: "Pin Me Up", file: "pinmeup (3).png"},
                            {name: "Wydzia≈Ç Biologii", file: "wb.png"},
                            {name: "Fuw baloon", file: "wmed (20).png"},
                            {name: "QuantMol", file: "quantmol.png"}
                        ];
                        logos.forEach((item, i) => {
                            document.write(`
                            <div class="card">
                                <img src="${item.file}" alt="${item.name}" onclick="openLightbox(this.src)" onerror="this.src='https://via.placeholder.com/90?text=LOGO'">
                                <h3>${item.name}</h3>
                                <span class="price">5.00 PLN</span>
                                <div class="qty-box"><input type="number" id="qty_logo_${i}" class="qty-input" value="1"></div>
                                <button class="btn-add" onclick="addItem('${item.name}', 5, 'qty_logo_${i}')">DODAJ</button>
                            </div>`);
                        });
                    </script>
                </div>
            </div>
        </div>

        <div id="acc-fuw" class="accordion-item" style="border-left-color: #f37034;">
            <div class="accordion-header" onclick="toggleAcc(this)">
                <span>ü™ê FUW VIBE</span>
                <i class="fa-solid fa-chevron-down"></i>
            </div>
            <div class="accordion-content">
                
                <div style="text-align: center; padding: 10px; margin-bottom: 20px; color: #555;">
                    <p style="margin: 0; font-style: italic; line-height: 1.5;">
                        Zbi√≥r wszystkiego co zwiƒÖzane z FUW-em.<br>
                        <strong style="color: #f37034;">Od student√≥w FUW-u dla student√≥w FUW-u</strong><br>
                        ‚Äì w jednym miejscu, ≈ºeby nie przeszukiwaƒá wszystkich sekcji (chocia≈º serdecznie zachƒôcamy!).
                    </p>
                </div>
        
                <div class="grid">
                    <script>
                        // WPISZ TUTAJ PLIKI DLA SEKCJI FUW
                        const fuwItems = [
                            { file: "[PL] fuw __ pe≈Çne.png", name: "logo wydzia≈Çu #1" },
                            { file: "[EN] fuw __ pe≈Çne.png", name: "logo wydzia≈Çu #1 eng" },
                            { file: "fuw __ skr√≥t (2).png", name: "logo wydzia≈Çu #2" },
                            { file: "fuw __ skr√≥t (3).png", name: "logo wydzia≈Çu #3" },
                            { file: "wmed (35).png", name: "tak, umiem pisaƒá xi" },
                            { file: "wmed (24).png", name: "wiara czyni cuda" },
                            { file: "wmed (27).png", name: "trywialne" },
                            { file: "wmed (26).png", name: "za≈Ç√≥≈ºmy, ≈ºe jestem kulƒÖ" },
                            { file: "fizykburger.png", name: "certified fan of fizykburger" },
                            { file: "wmed (33).png", name: "szrodinger" },
                            { file: "wmed (19).png", name: "najwazniejszy filar wydzia≈Çu" },
                            { file: "wmed (3).png", name: "czarna dziura" }
                        ];
        
                        fuwItems.forEach((item, i) => {
                            document.write(`
                            <div class="card">
                                <img src="${item.file}" onclick="openLightbox(this.src)" onerror="this.src='https://via.placeholder.com/150?text=FUW'">
                                <h3>${item.name}</h3>
                                <span class="price">5.00 PLN</span>
                                <div class="qty-box"><input type="number" id="qty_fuw_${i}" class="qty-input" value="1"></div>
                                <button class="btn-add" style="background-color: #f37034;" onclick="addItem('${item.name}', 5, 'qty_fuw_${i}')">DODAJ</button>
                            </div>`);
                        });
                    </script>
                </div>
            </div>
        </div>

        <div id="acc-fame" class="accordion-item" style="border-left-color: #f1c40f;">
            <div class="accordion-header" onclick="toggleAcc(this)" style="background: linear-gradient(to right, #fff, #fffdf0);">
                <span style="display: flex; align-items: center; gap: 10px; color: #b7950b;">
                    üèÜ BADGE OF FAME
                    <span style="font-size: 11px; background: #f1c40f; color: black; padding: 2px 8px; border-radius: 12px; font-weight: normal;">
                        Hall of Fame
                    </span>
                </span>
                <i class="fa-solid fa-chevron-down"></i>
            </div>
            <div class="accordion-content">
                <div style="text-align:center; color:#b7950b; margin-bottom:25px; padding: 0 10px;">
                    <p style="margin:0; font-style:italic; font-size:1rem; font-weight: bold;">
                        "Jedyny. Niepowtarzalny. Legenda Kampusu."
                    </p>
                    <small style="color:#999; display:block; margin-top:5px;">
                        KupujƒÖc ten pin, +10 do zdawalno≈õci egzamin√≥w. (Niepotwierdzone info)
                    </small>
                </div>
                
                <div class="grid">
                    <div class="card gold-edition">
                        <img src="dziekan.png" alt="Dziekan Turzy≈Ñski" onclick="openLightbox(this.src)" onerror="this.src='https://via.placeholder.com/150?text=DZIEKAN'">
                        <span style="font-size: 10px; color: #555; font-weight: normal;">(Legendary Edition)</span>
                        <h3>DZIEKAN TURZY≈ÉSKI<br></h3>
                        <span class="price" style="color:#b7950b;">10.00 PLN</span>
                        <div class="qty-box"><input type="number" id="qty_fame_1" class="qty-input" value="1"></div>
                        <button class="btn-add" onclick="addItem('Dziekan Turzy≈Ñski (Gold)', 6, 'qty_fame_1')">BIORƒò TO</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="acc-memy" class="accordion-item" style="border-left-color: #88b148;">
            <div class="accordion-header" onclick="toggleAcc(this)">
                <span>üê∏ STREFA MEM√ìW </span>
                <i class="fa-solid fa-chevron-down"></i>
            </div>
            <div class="accordion-content">
                
                <div style="text-align: center; padding: 10px; margin-bottom: 20px; color: #555;">
                    <p style="margin: 0; font-style: italic; line-height: 1.5;">
                        Kiedy s≈Çowa to za ma≈Ço, a sesja wje≈ºd≈ºa za mocno.<br>
                        <span style="font-size: 0.85rem; opacity: 0.8;">(Emotional Support Pins)</span>
                    </p>
                </div>
        
                <div class="grid">
                    <script>
                        const memy = [
                            "wmed (19).png", "wmed (21).png", "wmed (23).png", "wmed (24).png", 
                            "wmed (25).png", "wmed (26).png", "wmed (27).png", "wmed (28).png", 
                            "wmed (29).png", "wmed (30).png", "wmed (31).png", "wmed (35).png", 
                            "wmed (4).png", "wmed (5).png", "wmed (18).png"
                        ];
                        memy.forEach((file, i) => {
                            document.write(`
                            <div class="card">
                                <img src="${file}" onclick="openLightbox(this.src)" onerror="this.src='https://via.placeholder.com/90?text=MEM'">
                                <h3>Mem Wz√≥r #${i+1}</h3>
                                <span class="price">5.00 PLN</span>
                                <div class="qty-box"><input type="number" id="qty_mem_${i}" class="qty-input" value="1"></div>
                                <button class="btn-add" style="background-color: #88b148;" onclick="addItem('Mem Wz√≥r #${i+1}', 5, 'qty_mem_${i}')">DODAJ</button>
                            </div>`);
                        });
                    </script>
                </div>
            </div>
        </div>

        <div id="acc-xmas" class="accordion-item" style="border-left-color: #c0392b;">
            <div class="accordion-header" onclick="toggleAcc(this)">
                <span style="display: flex; align-items: center; gap: 10px;">
                    <span style="color: #c0392b; font-weight: bold;">üéÑ KOLEKCJA XMAS</span>
                    <span style="font-size: 11px; background: #27ae60; color: white; padding: 2px 8px; border-radius: 12px; font-weight: normal;">
                        Ho ho ho! üéÖ 
                    </span>
                </span>
                <i class="fa-solid fa-chevron-down"></i>
            </div>
            <div class="accordion-content">
                <div style="text-align: center; padding: 10px; margin-bottom: 15px; color: #636e72;">
                    <p style="margin: 0; font-style: italic;">
                        ≈öwiƒôta w lipcu? ≈öwiƒÖteczny vajb z naszƒÖ przypinkƒÖ mo≈ºesz mieƒá ca≈Çy rok!
                    </p>
                </div>
                <div class="grid" style="background-image: radial-gradient(#e74c3c22 1px, transparent 1px); background-size: 20px 20px;">
                    <script>
                        // Twoja lista
                        const xmas = [
                            {name: "Merry Christmas", file: "wmed (46).png"},
                            {name: "Meowy Christmas", file: "wmed (47).png"},
                            {name: "Christmas Pain", file: "wmed (48).png"}
                        ];
        
                        xmas.forEach((item, i) => {
                            document.write(`
                            <div class="card" style="border: 1px solid #fab1a0;">
                                <img src="${item.file}" onclick="openLightbox(this.src)" onerror="this.src='https://via.placeholder.com/90?text=XMAS'">
                                <h3>${item.name}</h3>
                                <span class="price">5.00 PLN</span>
                                <div class="qty-box"><input type="number" id="qty_xmas_n_${i}" class="qty-input" value="1"></div>
                                <button class="btn-add" style="background-color: #27ae60;" onclick="addItem('${item.name}', 6, 'qty_xmas_n_${i}')">DODAJ</button>
                            </div>`);
                        });
                    </script>
                </div>
            </div>
        </div>

        <div id="acc-pride" class="accordion-item rainbow-border" style="border-left: 5px solid #e84393;">
            <div class="accordion-header" onclick="toggleAcc(this)">
                <span style="display: flex; align-items: center; gap: 10px;">
                    üè≥Ô∏è‚Äçüåà #PRIDE COLLECTION
                    <span style="font-size: 11px; font-weight: bold; background: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet); -webkit-background-clip: text; color: transparent; letter-spacing: 1px;">
                        LOVE IS LOVE
                    </span>
                </span>
                <i class="fa-solid fa-chevron-down"></i>
            </div>
            <div class="accordion-content">
                
                <div style="text-align: center; padding: 10px; margin-bottom: 15px; color: #636e72;">
                    <p style="margin: 0; font-style: italic;">
                        BƒÖd≈∫ sobƒÖ, kochaj kogo chcesz i no≈õ te barwy z dumƒÖ! üíñ<br>
                        <b>Equality, Respect & Gay Power.</b>
                    </p>
                </div>
        
                <div class="grid">
                    <script>
                        // WPISZ SWOJE NAZWY TUTAJ
                        const prideItems = [
                            { file: "wmed (57).png", name: "nonbinary" },
                            { file: "wmed (52).png", name: "LGBT" },
                            { file: "wmed (53).png", name: "bi" },
                            { file: "wmed (54).png", name: "lesbian" },
                            { file: "wmed (55).png", name: "gay" },
                            { file: "wmed (56).png", name: "trans" },
                            { file: "begaydocrime.png", name: "#begaydocrimes" }
                        ];
        
                        prideItems.forEach((item, i) => {
                            document.write(`
                            <div class="card">
                                <img src="${item.file}" onclick="openLightbox(this.src)" onerror="this.src='https://via.placeholder.com/150?text=PRIDE'">
                                <h3>${item.name}</h3>
                                <span class="price">5.00 PLN</span>
                                <div class="qty-box"><input type="number" id="qty_pride_${i}" class="qty-input" value="1"></div>
                                <button class="btn-add" style="background: #e84393;" onclick="addItem('${item.name}', 5, 'qty_pride_${i}')">DODAJ</button>
                            </div>`);
                        });
                    </script>
                </div>
            </div>
        </div>

        <div id="acc-blind" class="accordion-item" style="border-left-color: #2d3436;">
            <div class="accordion-header" onclick="toggleAcc(this)">
                <span style="letter-spacing: 1px;">üîÆ MYSTERY BOX </span>
                <i class="fa-solid fa-chevron-down"></i>
            </div>
            <div class="accordion-content">
                <div style="display:flex; align-items:center; gap:15px; background: linear-gradient(145deg, #2d3436, #000000); color: #fff; padding:20px; border-radius:12px; border: 1px solid #444;">
                    
                    <div style="font-size:3.5rem; width:80px; text-align:center; filter: drop-shadow(0 0 5px rgba(255,255,255,0.3));">‚ùì</div>
                    
                    <div style="flex: 1;">
                        <strong style="color: #a29bfe; font-size: 1.1rem; letter-spacing: 1px;">TOTALNY RANDOM</strong>
                        <p style="margin:5px 0 15px 0; font-size:0.9rem; opacity: 0.8; line-height: 1.4;">
                            W ≈õrodku mo≈ºe byƒá <b>DOS≈ÅOWNIE WSZYSTKO</b>. Unikat, prototyp, albo co≈õ z g≈Ç√≥wnej kolekcji... Mo≈ºe znajdziesz tutaj Dziekana?<br>
                            <span style="font-style: italic;">Ryzykujesz 4 ziko?</span>
                        </p>
                        
                        <div style="display:flex; gap:10px; align-items: center;">
                            <input type="number" id="qty_blind" class="qty-input" value="1" style="background: #fff; color: #000; border: none;">
                            
                            <button class="btn-add" 
                                style="background: #a29bfe; color: #000; width:auto; padding:8px 25px; font-weight: bold; border:none; transition: 0.3s;" 
                                onclick="addItem('üîÆ Mystery Box', 4, 'qty_blind')"
                                onmouseover="this.style.background='#fff'" 
                                onmouseout="this.style.background='#a29bfe'">
                                BIORƒò W CIEMNO 
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="acc-border" class="accordion-item" style="border-left-color: #9b59b6;">
            <div class="accordion-header" onclick="toggleAcc(this)">
                <span style="display: flex; align-items: center; gap: 10px;">
                    BORDERKICIA 
                    <span style="font-size: 11px; font-weight: normal; opacity: 0.6; font-style: italic; letter-spacing: 1px;">
                        ‚ú® slay ‚ú®
                    </span>
                </span>
                <i class="fa-solid fa-chevron-down"></i>
            </div>
            <div class="accordion-content">
                <div class="grid">
                    <script>
                        // WPISZ SWOJE NAZWY TUTAJ
                        const items = [
                            { file: "wmed (36).png", name: "i'm just a physicist" },
                            { file: "wmed (37).png", name: "i'm just a physicist (bow edition)" },
                            { file: "wmed (38).png", name: "borderkicia" },
                            { file: "wmed (39).png", name: "mONSTER" },
                            { file: "wmed (40).png", name: "zip zip zap zap" },
                            { file: "wmed (41).png", name: "piwo to moje paliwo" },
                            { file: "wmed (42).png", name: "jest we mnie BESTIA" },
                            { file: "wmed (43).png", name: "bojem siem kombiemt" },
                            { file: "wmed (44).png", name: "eepy sleepy" },
                            { file: "wmed (45).png", name: "zakazane s≈Çowa" }
                        ];
        
                        items.forEach((item, i) => {
                            document.write(`
                            <div class="card">
                                <img src="${item.file}" onclick="openLightbox(this.src)" onerror="this.src='https://via.placeholder.com/150'">
                                <h3>${item.name}</h3>
                                <span class="price">5.00 PLN</span>
                                <div class="qty-box"><input type="number" id="qty_pin_${i}" class="qty-input" value="1"></div>
                                <button class="btn-add" onclick="addItem('${item.name}', 6, 'qty_pin_${i}')">DODAJ</button>
                            </div>`);
                        });
                    </script>
                </div>
            </div>
        </div>

         <div id="acc-prestige" class="accordion-item" style="border-left-color: #222;">
            <div class="accordion-header" onclick="toggleAcc(this)">
                <span>üíé STREFA PRESTI≈ªU üíé</span>
                <i class="fa-solid fa-chevron-down"></i>
            </div>
            <div class="accordion-content" style="background:#1a1a1a;">
                
                <div style="text-align:center; color:#ddd; margin-bottom:25px; padding: 0 10px;">
                    <p style="margin:0; font-style:italic; font-size:0.95rem; line-height:1.4;">
                        "Poczuj siƒô jak szejk na sto≈Ç√≥wce. Te piny krzyczƒÖ: <br> 
                        <strong style="color:var(--accent);">'Dosta≈Çem stypendium Rektora'</strong> <br>
                        (albo po≈ºyczy≈Çem od mamy)."
                    </p>
                    <small style="color:#888; display:block; margin-top:5px;">
                        ‚ú® 100% presti≈ºu ‚ú®
                    </small>
                </div>
                <div class="grid">
                    <div class="card prestige">
                        <img src="czekolada.png" alt="Dubaj" onclick="openLightbox(this.src)">
                        <h3>Dubajska Czekolada (prosto z Dubaju) </h3>
                        <span class="price">15.00 PLN</span>
                        <div class="qty-box"><input type="number" id="qty_dubaj" class="qty-input" value="1"></div>
                        <button class="btn-add" onclick="addItem('Dubajska Czekolada', 15, 'qty_dubaj')">BIORƒò</button>
                    </div>
                    <div class="card prestige">
                        <img src="labubu.png" alt="Labubu" onclick="openLightbox(this.src)">
                        <h3>Labubu </h3>
                        <span class="price">20.00 PLN</span>
                        <div class="qty-box"><input type="number" id="qty_labubu" class="qty-input" value="1"></div>
                        <button class="btn-add" onclick="addItem('Labubu Rare', 20, 'qty_labubu')">BIORƒò</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="acc-inne" class="accordion-item" style="border-left-color: #95a5a6;">
            <div class="accordion-header" onclick="toggleAcc(this)">
                <span>üé≤ INNE R√ì≈ªNO≈öCI</span>
                <i class="fa-solid fa-chevron-down"></i>
            </div>
            <div class="accordion-content">
                
                <div style="text-align:center; color:#666; margin-bottom:25px; padding: 0 10px;">
                    <p style="margin:0; font-style:italic; font-size:0.9rem;">
                        "Tu trafiajƒÖ piny, kt√≥re mia≈Çy problem z to≈ºsamo≈õciƒÖ.<br>
                        Zbyt dziwne na memy, zbyt ≈Çadne na blindbox."
                    </p>
                    <small style="color:#999; display:block; margin-top:5px;">
                        ü•î Kategoria: Studencki Bigos (wszystko i nic) ü•î
                    </small>
                </div>
                <div class="grid">
                    <script>
                        const inne = [
                            "wmed (7).png", "wmed (8).png", "wmed (9).png", "wmed (10).png",
                            "wmed (11).png", "wmed (12).png", "wmed (13).png", "wmed (14).png",
                            "wmed (15).png", "wmed (16).png", "wmed (17).png", "wmed (2).png", "wmed (6).png"
                        ];
                        inne.forEach((file, i) => {
                            document.write(`
                            <div class="card">
                                <img src="${file}" onclick="openLightbox(this.src)" onerror="this.src='https://via.placeholder.com/90?text=PIN'">
                                <h3>Pin Wz√≥r #${i+1}</h3>
                                <span class="price">5.00 PLN</span>
                                <div class="qty-box"><input type="number" id="qty_inne_${i}" class="qty-input" value="1"></div>
                                <button class="btn-add" onclick="addItem('Pin Wz√≥r #${i+1}', 5, 'qty_inne_${i}')">DODAJ</button>
                            </div>`);
                        });
                    </script>
                </div>
            </div>
        </div>

    </div>

    <div class="sidebar">
        <div id="koszyk" class="cart-wrapper">
            <div class="cart-header">
                <h2 style="margin:0; color:var(--primary); font-size:1.3rem;">TW√ìJ RACHUNEK</h2>
                <small style="color:#888;">PIN ME UP STORE</small>
            </div>
            
            <div id="cartItems" class="cart-items">
                <div style="text-align:center; padding:30px; color:#aaa;">
                    <i class="fa-solid fa-basket-shopping" style="font-size:2rem; margin-bottom:10px; opacity:0.3;"></i><br>
                    Koszyk jest pusty :<
                </div>
            </div>

            <div id="promoBox"></div>

            <div class="cart-total-section">
                <label class="tip-box" style="display:flex; align-items:center; gap:10px; cursor:pointer; margin-bottom:10px;">
                    <input type="checkbox" id="tipCheck" onchange="renderCart()" style="transform:scale(1.2);">
                    <span style="font-size:0.9rem;">Napiwek na monsterka (+1 PLN) ‚ù§Ô∏è</span>
                </label>

                <div class="saved-amount" id="savedDisplay" style="color:#27ae60; text-align:right; font-weight:bold; font-size:0.85rem; margin-bottom:5px;"></div>
                
                <div style="display:flex; justify-content:space-between; align-items:flex-end;">
                    <span style="font-weight:bold; color:#555;">SUMA:</span>
                    <span style="font-size:1.6rem; font-weight:900; color:var(--primary);"><span id="totalPrice">0.00</span> PLN</span>
                </div>
            </div>

            <div style="margin-top:20px;">
                <h4 style="margin:0 0 10px 0; font-size:0.9rem;">P≈Çatno≈õƒá:</h4>
                <div class="payment-options">
                    <div class="pay-option active" id="pay_blik" onclick="setPayment('BLIK')">BLIK</div>
                    <div class="pay-option" id="pay_cash" onclick="setPayment('GOT√ìWKA')">GOT√ìWKA</div>
                </div>
                <input type="hidden" id="paymentMethod" value="BLIK">

                <div class="blik-warn" id="blikInfo" style="display:block; background:#ffebeb; color:#d63031; padding:10px; border-radius:5px; font-size:0.8rem; margin-bottom:10px; border-left:4px solid #d63031;">
                    ‚ö†Ô∏è Przelew BLIK na: <strong style="color:black;">123-456-789</strong>
                </div>

                <input type="text" id="clientName" class="field" placeholder="Imiƒô i Nazwisko">
                <input type="email" id="clientEmail" class="field" placeholder="Tw√≥j E-mail">
                
                <button class="btn-checkout" onclick="submitOrder()">
                    ZAMAWIAM üöÄ
                </button>
            </div>
        </div>
    </div>

    <div class="extra-content-box">
        <h4 style="margin-top:0; color:var(--primary); text-transform:uppercase;">üì∏ Z ≈ªycia Wziƒôte</h4>
        <div class="gallery-grid">
            <div class="gallery-item"><img src="https://via.placeholder.com/150x150?text=FOTO1" onclick="openLightbox(this.src)"></div>
            <div class="gallery-item"><img src="https://via.placeholder.com/150x150?text=FOTO2" onclick="openLightbox(this.src)"></div>
            <div class="gallery-item"><img src="https://via.placeholder.com/150x150?text=FOTO3" onclick="openLightbox(this.src)"></div>
            <div class="gallery-item"><img src="https://via.placeholder.com/150x150?text=FOTO4" onclick="openLightbox(this.src)"></div>
        </div>

        <hr style="margin:20px 0; border:0; border-top:1px dashed #eee;">

        <h4 style="margin-top:0; color:var(--primary);">üí¨ CO M√ìWIƒÑ?</h4>
        <div class="review-box">
            <small>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</small>
            <p style="font-size:0.9rem; font-style:italic; margin:5px 0;">"Kupi≈Çem DubajskƒÖ, ≈ºeby zdaƒá egzamin. Zda≈Çem."</p>
            <strong>~ Marek, II rok</strong>
        </div>
        <div class="review-box">
            <small>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</small>
            <p style="font-size:0.9rem; font-style:italic; margin:5px 0;">"Ko≈Ço fortuny to sztos! Dosta≈Çam przypinkƒô za darmo!"</p>
            <strong>~ Kasia</strong>
        </div>

        <div style="display:flex; gap:10px; margin-top:15px;">
            <input type="text" id="reviewText" class="field" placeholder="Twoja opinia..." style="margin-bottom:0;">
            <button class="btn-add" style="width:auto; background:#555; margin-top:0;" onclick="sendReview()">OK</button>
        </div>
    </div>

</div>

<footer style="text-align:center; padding:30px; color:#888; font-size:0.8rem; margin-top:20px;">
    &copy; 2025 PIN ME UP! <br> Badges created with ‚ù§Ô∏è
</footer>

<script>
    const MY_EMAIL = "pinmeup.fuw@gmail.com"; 
    let cart = [];

    function openLightbox(src) {
        const lb = document.getElementById('lightbox');
        const img = document.getElementById('lightbox-img');
        img.src = src;
        lb.classList.add('visible');
    }

    function closeLightbox() {
        document.getElementById('lightbox').classList.remove('visible');
    }

    function toggleMenu() {
        const menu = document.getElementById('navMenu');
        menu.classList.toggle('open');
    }

    document.querySelectorAll('.menu-link').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href').substring(1);
            const targetItem = document.getElementById(targetId);
            
            document.getElementById('navMenu').classList.remove('open');

            if(targetItem) {
                document.querySelectorAll('.accordion-item').forEach(item => item.classList.remove('active'));
                targetItem.classList.add('active');
                
                const isMobile = window.innerWidth <= 900;
                const headerHeight = isMobile ? 180 : 140; 
                
                const elementPosition = targetItem.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerHeight;

                window.scrollTo({ top: offsetPosition, behavior: "smooth" });
            }
        });
    });

    function scrollToCartMobile() {
        const cart = document.getElementById('koszyk');
        const headerOffset = 180;
        const elementPosition = cart.getBoundingClientRect().top;
        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
        window.scrollTo({ top: offsetPosition, behavior: "smooth" });
    }

    function showToast(message) {
        const toast = document.getElementById("toast");
        toast.innerHTML = `<i class="fa-solid fa-check-circle"></i> ${message}`;
        toast.className = "show";
        setTimeout(() => { toast.className = toast.className.replace("show", ""); }, 3000);
    }

    function toggleAcc(header) {
        const item = header.parentElement;
        item.classList.toggle('active');
    }

    function addItem(name, price, inputId) {
        const qty = parseInt(document.getElementById(inputId).value);
        if(qty < 1) return;
        const existing = cart.find(item => item.name === name && !item.file);
        if(existing) { existing.qty += qty; } else { cart.push({ name: name, price: price, qty: qty, file: null }); }
        document.getElementById(inputId).value = 1;
        renderCart(); 
        showToast(`Dodano: ${name}`);
    }

    function addCustomFile() {
        const fileInput = document.getElementById('customFile');
        const qty = parseInt(document.getElementById('customQty').value);
        if(fileInput.files.length === 0) { showToast("Wybierz plik!"); return; }
        cart.push({ name: "W≈Çasny Projekt", price: 7.00, qty: qty, file: fileInput.files[0] });
        fileInput.value = ""; document.getElementById('customQty').value = 1;
        renderCart(); 
        showToast("Dodano projekt!");
    }

    function removeItem(index) { cart.splice(index, 1); renderCart(); }

    function renderCart() {
        const container = document.getElementById('cartItems');
        const totalEl = document.getElementById('totalPrice');
        const mobileTotalEl = document.getElementById('mobileTotal');
        const mobileBar = document.getElementById('mobile-sticky-cart');
        const promoBox = document.getElementById('promoBox');
        const savedEl = document.getElementById('savedDisplay');
        const isTip = document.getElementById('tipCheck').checked;

        container.innerHTML = "";
        let total = 0;
        let savings = 0;
        let promoText = "";

        if(cart.length === 0 && !isTip) {
            container.innerHTML = '<div style="text-align:center; padding:20px; color:#aaa;"><i class="fa-solid fa-basket-shopping" style="font-size:2rem; margin-bottom:10px; opacity:0.3;"></i><br>Pusto...</div>';
            totalEl.innerText = "0.00"; 
            mobileTotalEl.innerText = "0.00 PLN";
            promoBox.innerHTML=""; savedEl.innerText=""; 
            document.getElementById('cartCount').innerText="0"; 
            mobileBar.classList.remove('visible');
            return;
        }

        mobileBar.classList.add('visible');

        cart.forEach((item, index) => {
            let itemTotal = item.price * item.qty;
            if(item.name.includes("Dubajska")) savings += (150 - 15) * item.qty;
            if(item.name.includes("Labubu")) savings += (500 - 20) * item.qty;
            if(!item.file && item.qty >= 6) {
                const discount = Math.floor(item.qty / 6) * item.price;
                itemTotal -= discount; savings += discount; promoText = "üî• Promocja 5+1 aktywna!";
            }
            total += itemTotal;
            container.innerHTML += `<div class="cart-item">
                <div><strong>${item.name}</strong><br><small style="color:#888;">${item.qty} szt. x ${item.price} z≈Ç</small></div>
                <div>${itemTotal.toFixed(2)} z≈Ç <i class="fa-solid fa-trash" style="color:#ff7675; cursor:pointer; margin-left:8px;" onclick="removeItem(${index})"></i></div>
            </div>`;
        });

        if(isTip) { total += 1.00; container.innerHTML += `<div class="cart-item" style="color:var(--salmon); border-bottom:none;"><div>‚ù§Ô∏è Napiwek</div><div>1.00 z≈Ç</div></div>`; }

        const finalTotal = total.toFixed(2);
        totalEl.innerText = finalTotal;
        mobileTotalEl.innerText = finalTotal + " PLN";
        
        document.getElementById('cartCount').innerText = cart.reduce((acc, i) => acc + i.qty, 0);
        promoBox.innerHTML = promoText ? `<div style="background:#e0ffe0; color:#009432; padding:8px; font-size:0.8rem; border-radius:5px; margin-bottom:10px; border:1px solid #b8e994;">${promoText}</div>` : "";
        savedEl.innerText = savings > 0 ? `OSZCZƒòDZASZ: ${savings.toFixed(2)} PLN` : "";
    }

    function setPayment(type) {
        document.querySelectorAll('.pay-option').forEach(el => el.classList.remove('active'));
        if(type === 'BLIK') { document.getElementById('pay_blik').classList.add('active'); document.getElementById('blikInfo').style.display='block'; }
        else { document.getElementById('pay_cash').classList.add('active'); document.getElementById('blikInfo').style.display='none'; }
        document.getElementById('paymentMethod').value = type;
    }

    function submitOrder() {
        if(cart.length === 0 && !document.getElementById('tipCheck').checked) return showToast("Koszyk jest pusty!");
        const name = document.getElementById('clientName').value;
        const email = document.getElementById('clientEmail').value;
        if(!name || !email) return showToast("Podaj imiƒô i email!");
        if(!email.includes('@')) return showToast("Podaj poprawny e-mail!");

        const btn = document.querySelector('.btn-checkout');
        const oldText = btn.innerHTML;
        btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> WYSY≈ÅANIE...'; 
        btn.disabled = true;

        const fd = new FormData();
        fd.append("_captcha", "false"); 
        fd.append("_subject", "NOWE ZAM√ìWIENIE: " + name);
        fd.append("_template", "table");
        fd.append("_cc", email);

        const autoMessage = `Hej ${name}! üëã\n\nDziƒôki za zam√≥wienie w PIN ME UP!\nTwoje przypinki sƒÖ ju≈º w drodze do realizacji.\n\nüìç ODBI√ìR OSOBISTY:\nZapraszamy na nasze stoisko 15 i 18 GRUDNIA (Wydzia≈Ç Fizyki).\n\nBƒôdzie na Ciebie czekaƒá:\n- Ko≈Ço Fortuny üé°\n- Fotobudka üì∏\n- A 18.12 zdjƒôcie z Dziekanem! üéì\n\nJe≈õli wybra≈Çe≈õ p≈Çatno≈õƒá BLIK, prosimy o przelew na numer: 123-456-789.\n\nDo zobaczenia!\nEkipa PIN ME UP!`;
        fd.append("_autoresponse", autoMessage);

        fd.append("Klient", name); 
        fd.append("email", email); 
        fd.append("Metoda P≈Çatno≈õci", document.getElementById('paymentMethod').value);
        fd.append("Do Zap≈Çaty", document.getElementById('totalPrice').innerText + " PLN");

        let summary = "";
        cart.forEach((item, i) => {
            summary += `${item.name} | Ilo≈õƒá: ${item.qty}\n`;
            if(item.file) fd.append(`Plik_${i}`, item.file);
        });
        if(document.getElementById('tipCheck').checked) {
            summary += `-------------------\n‚ù§Ô∏è DODATKOWO: NAPIWEK (+1 PLN)\n`;
        }
        fd.append("ZAM√ìWIENIE (Szczeg√≥≈Çy)", summary);

        fetch(`https://formsubmit.co/${MY_EMAIL}`, { method: "POST", body: fd })
        .then(() => { 
            alert("SUKCES! Zam√≥wienie wys≈Çane. Sprawd≈∫ swojƒÖ skrzynkƒô mailowƒÖ (r√≥wnie≈º SPAM), wys≈Çali≈õmy Ci potwierdzenie!"); 
            cart=[]; renderCart(); btn.innerHTML=oldText; btn.disabled=false; 
            document.getElementById('clientName').value = "";
            document.getElementById('clientEmail').value = "";
        })
        .catch(() => { 
            alert("Zam√≥wienie wys≈Çane! (Je≈õli nie widzisz maila, sprawd≈∫ spam)."); 
            btn.innerHTML=oldText; btn.disabled=false; 
        });
    }

    function sendReview() {
        const text = document.getElementById('reviewText').value;
        if(!text) return showToast("Wpisz tre≈õƒá opinii!");
        const fd = new FormData();
        fd.append("_captcha", "false"); fd.append("_subject", "NOWA OPINIA"); fd.append("Tre≈õƒá", text);
        fetch(`https://formsubmit.co/${MY_EMAIL}`, { method: "POST", body: fd })
        .then(() => { showToast("Dziƒôki za opiniƒô!"); document.getElementById('reviewText').value = ""; });
    }
</script>

</body>
</html>






